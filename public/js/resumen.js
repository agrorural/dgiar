!function(e){function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=45)}({45:function(e,t,a){e.exports=a(46)},46:function(e,t){function a(){$(".spinner-wrapper").show(),$(".chart__table").html(""),$(".chart__image").html("")}function r(){c.forEach(function(e){c.remove(e)})}function o(){$(".spinner-wrapper").hide()}function n(){$(".chart__image").html('\n      <div class="chart__image-container">\n      <div class="page-header"><h3>Por regiones</h3></div>\n      <canvas class="chartShow" id="chartDep" style="height:300px"></canvas>\n      </div>\n  '),$.ajax({url:"http://qa.agrorural.gob.pe/WEBAPI_GEOVICE/api/geo/ReportePorRegion",data:"{}",headers:{Accept:"application/json","Content-Type":"application/json"},contentType:"application/json;",type:"post",success:function(e){var t=[];$.each(e,function(e,a){t.push([a.Region_Natural])});var a=document.getElementById("chartDep");new Chart(a,{type:"bar",data:{labels:t,datasets:[{label:"Gráfica",data:[74585758,563387425,79308772],backgroundColor:"rgba(215, 58, 36, 0.2)",borderColor:"rgba(215, 58, 36, 1)",borderWidth:2}]},options:{tooltips:{callbacks:{label:function(e,t){var a=t.datasets[0].data[e.index];return a=a.toString(),a=a.split(/(?=(?:...)*$)/),"S/ "+(a=a.join(","))}}},scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,a){return e=e.toString(),e=e.split(/(?=(?:...)*$)/),"S/ "+(e=e.join(","))}}}],xAxes:[{ticks:{}}]}}})},error:function(e,t,a){}})}function l(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var s="01,02,03,04,05,06,08,09,10,11,12,13,14,15,18,20,21,22,23";a(),map=new google.maps.Map(document.getElementById("map"),{zoom:6,center:{lat:-12.079652,lng:-77.042575},styles:[{elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#656366"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#eaebed"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eaebed"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#cbdaaf"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#cbdaaf"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#b3c8aa"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#b3c8aa"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#d7d8dc"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#d7d8dc"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#ccdfe6"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]});var c=new google.maps.Data;!function(e,t){a(),r(),c.loadGeoJson("/departamentos?deps="+s+"&provs=&deno="+e+"&tipo="+t,null,function(e){$(".chart__table").html('\n      <div class="chart__table-container">\n      <table id="tblDep" class="dt-responsive" cellspacing="0" width="100%">\n        <thead class="thead-dark">\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n      </div>\n    '),$(function(){o(),n(),$(".chart__table").find("table thead").append("\n         <tr>\n           <th>ID</th>\n           <th>Departamento</th>\n           <th>Duración (m)</th>\n           <th>Exp. Téc.</th>\n           <th>Familias Benef.</th>\n           <th>Hectáreas</th>\n         </tr>\n       ");var t=$("#tblDep").DataTable({paging:!1,searching:!1,ordering:!1,bInfo:!1,fnCreatedRow:function(e,t,a){$(e).attr("id",t[0])},columnDefs:[{targets:0,visible:!1},{className:"dt-body-right text-right",targets:[2,3,4,5]},{width:"10%",targets:[2,4,5]}]}),a=0,r=0,s=0,c=0;e.forEach(function(e){a+=parseInt(e.f.Nro_pdn),r+=parseInt(e.f.Nro_pdnc),s+=parseInt(e.f.Inversion_pdnc),c+=parseInt(e.f.Nro_pdt),t.row.add([e.f.ID_DEP,e.f.NOMBDEP,e.f.Nro_pdn,"S/. "+l(e.f.Nro_pdnc),l(e.f.Inversion_pdnc),l(e.f.Nro_pdt)]).draw(!1)});var i=t.row.add(["","TOTAL",a,"S/ "+l(r),s,c]).draw(!1).node();$(i).addClass("table-success");var p=$(".chart").height();$("#map").height(p)})}),c.setStyle(function(e){return{fillColor:e.getProperty("color"),strokeOpacity:.5,fillOpacity:.7,strokeWeight:1}}),c.addListener("mouseover",function(e){c.revertStyle(),c.overrideStyle(e.feature,{fillOpacity:1}),$(".chart__table").find("table tbody tr#"+e.feature.getProperty("ID_DEP")).addClass("success")}),c.addListener("mouseout",function(e){c.revertStyle(),$(".chart__table").find("table tbody tr").removeClass("success")}),c.setMap(map),map.setZoom(6)}("",""),c.addListener("click",function(e){depID=e.feature.getProperty("ID_DEP"),dep=e.feature.getProperty("NOMBDEP"),hect=e.feature.getProperty("Nro_pdt"),fam=e.feature.getProperty("Inversion_pdnc"),exp=l(e.feature.getProperty("Nro_pdnc"));var t="";t+='<div class="chart__table-container">',t+='<div class="card">',t+='<div class="card-header">'+dep+"</div>",t+='<dl class="card-body">',t+='<dt class="card-title"><i class="fas fa-money-bill-alt"></i> Expediente Técnico</dt>',t+='<dd class="card-text">S/ '+exp+"</dd>",t+='<dt class="card-title"><i class="fas fa-people-carry"></i> Familias Beneficiarias</dt>',t+='<dd class="card-text">'+fam+"</dd>",t+="</dl>",t+="</div>",t+="</div>",$(".chart__table").html(t);var a=$(".chart").height();$("#map").height(a),map.setZoom(5)}),$(document).ready(function(){$.ajax({url:"http://qa.agrorural.gob.pe/WebAPI_GeoAgro/api/geo/ListarDepartamentoscombo",data:"{}",headers:{Accept:"application/json","Content-Type":"application/json"},contentType:"application/json;",type:"post",success:function(e){$("#ddlDepartamento").empty(),$("#ddlDepartamento").append("<option value='00' disabled selected>Seleccione</option>"),$.each(e,function(e,t){"01"!==t.ID_DEP&&"02"!==t.ID_DEP&&"03"!==t.ID_DEP&&"04"!==t.ID_DEP&&"05"!==t.ID_DEP&&"06"!==t.ID_DEP&&"08"!==t.ID_DEP&&"09"!==t.ID_DEP&&"10"!==t.ID_DEP&&"11"!==t.ID_DEP&&"12"!==t.ID_DEP&&"13"!==t.ID_DEP&&"14"!==t.ID_DEP&&"15"!==t.ID_DEP&&"18"!==t.ID_DEP&&"20"!==t.ID_DEP&&"21"!==t.ID_DEP&&"22"!==t.ID_DEP&&"23"!==t.ID_DEP||$("#ddlDepartamento").append("<option value="+t.ID_DEP+">"+t.NOM_DEP+"</option>")})},error:function(e,t,a){}})})}});